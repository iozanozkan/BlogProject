<main role="main" style="margin-bottom: 80px;">
  <div *ngIf="user" class="container">
    <form [formGroup]="updateForm" (ngSubmit)="update()">
      <fieldset>
        <legend>Profil Güncelle</legend>
        <div class="form-group">
          <input type="text" id="name" name="name" formControlName="name" class="form-control" value="{{user.name}}"
            autofocus>
          <div *ngIf="updateForm.get('name').hasError('required') && updateForm.get('name').touched"
            class="alert alert-danger">İsim gerekli</div>
        </div>
        <div class="form-group">
          <input type="text" id="surname" name="surname" formControlName="surname" class="form-control"
            value="{{user.surname}}" autofocus>
          <div *ngIf="updateForm.get('surname').hasError('required') && updateForm.get('surname').touched"
            class="alert alert-danger">Soyisim gerekli</div>
        </div>
        <div class="form-group">
          <input type="text" id="email" name="email" formControlName="email" class="form-control" value="{{user.email}}"
            autofocus>
          <div *ngIf="updateForm.get('email').hasError('required') && updateForm.get('email').touched"
            class="alert alert-danger">E-mail gerekli</div>
        </div>
        <div class="form-group">
          <input type="text" id="username" name="username" formControlName="username" class="form-control"
            value="{{user.username}}" autofocus>
          <div *ngIf="updateForm.get('username').hasError('required') && updateForm.get('username').touched"
            class="alert alert-danger">Kullanıcı adı gerekli</div>
        </div>
        <div class="form-group">
          <app-upload-user-photo [photoUrl]="user.photoUrl"  (onUploadFinished)="uploadFinished($event)"></app-upload-user-photo>
        </div>
        <button class="btn btn-lg btn-primary btn-block" [disabled]="!updateForm.valid" type="submit">Güncelle</button>
      </fieldset>
    </form>
  </div>
</main>